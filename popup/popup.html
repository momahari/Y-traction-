<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Y-traction</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <header>
        <h1><b>Y-traction</b></h1>
        <button id="modeBtn" class="theme-toggle">
            <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 32 32" viewBox="0 0 32 32" id="moon">
                <path d="M16.10999,31.5c7.60004,0,14.06-5.42999,15.37-12.91003c0.10004-0.58997-0.14996-1.17999-0.64996-1.51001C30.33002,16.75,29.69,16.75,29.19,17.07001c-1.66998,1.07996-3.60999,1.64996-5.59998,1.64996c-5.68005,0-10.31-4.63-10.31-10.31c0-1.98999,0.56995-3.92999,1.64996-5.59998C15.25,2.31,15.25,1.66998,14.91998,1.16998c-0.32996-0.5-0.92999-0.75-1.51001-0.65002C5.92999,1.82996,0.5,8.28998,0.5,15.89001C0.5,24.5,7.5,31.5,16.10999,31.5z"></path>
            </svg>      
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368">
                <path d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z"/>
            </svg>
        </button>
    </header>
    
    <!-- Tab Navigation -->
    <nav class="tab-navigation">
        <button class="tab-btn active" data-tab="focus">
            <i class="fas fa-clock"></i> Focus
        </button>
        <button class="tab-btn" data-tab="youtube">
            <i class="fab fa-youtube"></i> YouTube
        </button>
        <button class="tab-btn" data-tab="blocker">
            <i class="fas fa-shield-alt"></i> Blocker
        </button>
    </nav>

    <!-- Focus Mode Tab -->
    <div class="tab-content active" id="focus-tab">
        <div class="timer-container">
            <!-- Circular Progress Bar -->
            <div class="progress-container">
                <svg class="progress-ring" width="120" height="120">
                    <circle class="progress-ring-circle-bg" cx="60" cy="60" r="52" />
                    <circle class="progress-ring-circle" cx="60" cy="60" r="52" />
                </svg>
                <div class="progress-content">
                    <div class="timer-display">
                        <span id="timeLeft">00:00</span>
                    </div>
                    <div class="timer-mode">
                        <span id="currentMode">Focus</span>
                    </div>
                </div>
            </div>
            
            <!-- Timer Settings -->
            <div class="timer-settings">
                <div class="setting-group">
                    <label>Focus Time</label>
                    <div class="time-input-group">
                        <input type="number" id="focusMinutes" placeholder="25" min="1" max="120" value="25">
                        <span class="input-label">min</span>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label>Rest Time</label>
                    <div class="time-input-group">
                        <input type="number" id="restMinutes" placeholder="5" min="1" max="60" value="5">
                        <span class="input-label">min</span>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label>Cycles</label>
                    <div class="time-input-group">
                        <input type="number" id="totalCycles" placeholder="4" min="1" max="12" value="4">
                        <span class="input-label">cycles</span>
                    </div>
                </div>
            </div>
            
            <!-- Cycle Progress -->
            <div class="cycle-progress">
                <div class="cycle-info">
                    <span>Cycle: <span id="currentCycle">1</span> / <span id="totalCyclesDisplay">4</span></span>
                </div>
                <div class="cycle-dots">
                    <span class="cycle-dot active" id="dot-1"></span>
                    <span class="cycle-dot" id="dot-2"></span>
                    <span class="cycle-dot" id="dot-3"></span>
                    <span class="cycle-dot" id="dot-4"></span>
                </div>
            </div>
            
            <!-- Control Buttons -->
            <div class="control-buttons">
                <button id="startTimer" class="primary-btn">
                    <i class="fas fa-play"></i> Start
                </button>
                <button id="pauseTimer" class="secondary-btn" style="display: none;">
                    <i class="fas fa-pause"></i> Pause
                </button>
                <button id="resetTimer" class="secondary-btn">
                    <i class="fas fa-stop"></i> Reset
                </button>
            </div>
        </div>
    </div>

    <!-- YouTube Settings Tab -->
    <div class="tab-content" id="youtube-tab">
        <div class="container">
            <div class="features-list">
                <div class="feature-item">
                    <input class="form-check-input" type="checkbox" id="flexSwitchCheckReverse">
                    <label class="form-check-label" for="flexSwitchCheckReverse">
                        Hide Youtube <i class="fab fa-youtube"></i>
                    </label>
                </div>
                
                <div class="feature-item">
                    <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault1">
                    <label class="form-check-label" for="flexSwitchCheckDefault1">
                        Hide ads
                    </label>
                </div>
                
                <div class="feature-item">
                    <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault2">
                    <label class="form-check-label" for="flexSwitchCheckDefault2">
                        Hide proposition
                    </label>
                </div>
                
                <div class="feature-item">
                    <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault3">
                    <label class="form-check-label" for="flexSwitchCheckDefault3">
                        Hide playlistes
                    </label>
                </div>
                
                <div class="feature-item">
                    <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault6">
                    <label class="form-check-label" for="flexSwitchCheckDefault6">
                        Hide shorts
                    </label>
                </div>
                
                <div class="feature-item">
                    <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault4">
                    <label class="form-check-label" for="flexSwitchCheckDefault4">
                        Hide comments
                    </label>
                </div>
                
                <div class="feature-item">
                    <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault5">
                    <label class="form-check-label" for="flexSwitchCheckDefault5">
                        Hide sidebar
                    </label>
                </div>
            </div>
        </div>
    </div>

    <!-- Website Blocker Tab -->
    <div class="tab-content" id="blocker-tab">
        <div class="container">
            <!-- Quick Block Presets -->
            <div class="blocker-section">
                <h3 class="section-title">Quick Block</h3>
                <div class="preset-buttons">
                    <button class="preset-btn" data-preset="social">
                        <i class="fas fa-users"></i> Social Media
                    </button>
                    <button class="preset-btn" data-preset="entertainment">
                        <i class="fas fa-play"></i> Entertainment
                    </button>
                    <button class="preset-btn" data-preset="news">
                        <i class="fas fa-newspaper"></i> News
                    </button>
                    <button class="preset-btn" data-preset="shopping">
                        <i class="fas fa-shopping-cart"></i> Shopping
                    </button>
                </div>
            </div>

            <!-- Custom Website Blocking -->
            <div class="blocker-section">
                <h3 class="section-title">Custom Websites</h3>
                <div class="add-website">
                    <input type="text" id="websiteInput" placeholder="Enter website (e.g., facebook.com)" class="website-input">
                    <button id="addWebsiteBtn" class="add-btn">
                        <i class="fas fa-plus"></i> Add
                    </button>
                </div>
                <div id="blockedWebsitesList" class="blocked-list"></div>
            </div>

            <!-- Blocking Status -->
            <div class="blocker-section">
                <div class="feature-item">
                    <input class="form-check-input" type="checkbox" id="blockingEnabled">
                    <label class="form-check-label" for="blockingEnabled">
                        <i class="fas fa-shield-alt"></i> Enable Website Blocking
                    </label>
                </div>
                <div class="blocking-status" id="blockingStatus">
                    <span class="status-text">Blocking: <span id="blockedCount">0</span> websites</span>
                </div>
                
                <!-- Simple Password Protection Button -->
                <div class="password-protection-container">
                    <button id="passwordProtectionBtn" class="password-protection-btn">
                        <i class="fas fa-lock"></i> Add Password Protection
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Password Setup Modal -->
    <div id="passwordSetupModal" class="password-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h4><i class="fas fa-shield-alt"></i> Set Password Protection</h4>
            </div>
            <div class="modal-body">
                <p>Set a password to protect your blocked websites list from changes:</p>
                <div class="password-input-container">
                    <input type="password" id="newPassword" placeholder="Enter password (min 4 characters)" class="password-input">
                    <button type="button" class="password-toggle" data-target="newPassword">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </button>
                </div>
                <div class="password-input-container">
                    <input type="password" id="confirmPassword" placeholder="Confirm password" class="password-input">
                    <button type="button" class="password-toggle" data-target="confirmPassword">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </button>
                </div>
                <div id="passwordSetupError" class="password-error" style="display: none;">
                    <i class="fas fa-exclamation-triangle"></i> <span id="passwordSetupErrorText">Error message</span>
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancelSetupBtn" class="btn btn-secondary">Cancel</button>
                <button id="confirmSetupBtn" class="btn btn-primary">Set Protection</button>
            </div>
        </div>
        <div class="modal-backdrop"></div>
    </div>

    <!-- Password Verification Modal -->
    <div id="passwordModal" class="password-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h4><i class="fas fa-lock"></i> Password Required</h4>
            </div>
            <div class="modal-body">
                <p id="passwordPromptText">Enter your password to modify blocked websites:</p>
                <div class="password-input-container">
                    <input type="password" id="passwordPrompt" placeholder="Enter password" class="password-input">
                    <button type="button" class="password-toggle" data-target="passwordPrompt">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </button>
                </div>
                <div id="passwordError" class="password-error" style="display: none;">
                    <i class="fas fa-exclamation-triangle"></i> Incorrect password
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancelPasswordBtn" class="btn btn-secondary">Cancel</button>
                <button id="confirmPasswordBtn" class="btn btn-primary">Confirm</button>
            </div>
        </div>
        <div class="modal-backdrop"></div>
    </div>

    <!-- Feedback link at the bottom -->
    <div class="footer">
        <a href="https://forms.gle/EW1Xk7eLfy2uToJV6" target="_blank">Give us a feedback</a>
    </div>
    
    <script src="popup.js"></script>
</body>
</html>